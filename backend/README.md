# QadamSafe Backend API

–ë—ç–∫–µ–Ω–¥ API –¥–ª—è QadamSafe, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Render.

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Render

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ Firebase Service Account Key

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Firebase Console](https://console.firebase.google.com/project/qadamsafe/settings/serviceaccounts/adminsdk)
2. –ù–∞–∂–º–∏—Ç–µ **"Generate New Private Key"**
3. –°–∫–∞—á–∞–π—Ç–µ JSON —Ñ–∞–π–ª
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** ‚Äî –æ–Ω–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è Render

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)

–ë—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —É–∂–µ –≤ GitHub ‚Äî –æ—Ç–ª–∏—á–Ω–æ!

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ Web Service –Ω–∞ Render

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [render.com](https://render.com) –∏ –≤–æ–π–¥–∏—Ç–µ/–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
2. –ù–∞–∂–º–∏—Ç–µ **"New +"** ‚Üí **"Web Service"**
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub/GitLab —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å:

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| **Name** | `qadamsafe-api` |
| **Region** | Frankfurt (EU) ‚Äî –±–ª–∏–∂–µ –∫ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—É |
| **Branch** | `main` |
| **Root Directory** | `backend` |
| **Runtime** | `Node` |
| **Build Command** | `npm install` |
| **Start Command** | `npm start` |
| **Plan** | Free |

### –®–∞–≥ 4: –î–æ–±–∞–≤—å—Ç–µ Environment Variables

–í —Ä–∞–∑–¥–µ–ª–µ **"Environment"** –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

| Key | Value |
|-----|-------|
| `FIREBASE_SERVICE_ACCOUNT` | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ JSON —Ñ–∞–π–ª–∞ –∏–∑ –®–∞–≥–∞ 1 (–≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É!) |
| `GEMINI_API_KEY` | `AIzaSyClYvOSI5DT8vQGR9Upiq-MQ_FAhEhZ_I8` |
| `JWT_SECRET` | `qadamsafe-secret-key-2024` |

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** JSON –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É, –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤!

### –®–∞–≥ 5: –î–µ–ø–ª–æ–π

–ù–∞–∂–º–∏—Ç–µ **"Create Web Service"** –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è (~2-3 –º–∏–Ω—É—Ç—ã).

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞:
```
https://qadamsafe-api.onrender.com
```

### –®–∞–≥ 6: –û–±–Ω–æ–≤–∏—Ç–µ Frontend

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è URL –æ—Ç Render, –æ–±–Ω–æ–≤–∏—Ç–µ `frontend/.env.production`:

```env
VITE_API_URL=https://qadamsafe-api.onrender.com
```

–ò –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ/–∑–∞–¥–µ–ø–ª–æ–π—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.

---

## ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Uptime Robot

–ß—Ç–æ–±—ã —Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞—Å—ã–ø–∞–ª (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Render —É—Å—ã–ø–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏):

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [uptimerobot.com](https://uptimerobot.com)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
3. –ù–∞–∂–º–∏—Ç–µ **"Add New Monitor"**
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| **Monitor Type** | HTTP(s) |
| **Friendly Name** | QadamSafe API |
| **URL** | `https://qadamsafe-api.onrender.com/health` |
| **Monitoring Interval** | 5 minutes |

5. –ù–∞–∂–º–∏—Ç–µ **"Create Monitor"**

‚úÖ –¢–µ–ø–µ—Ä—å Uptime Robot –±—É–¥–µ—Ç –ø–∏–Ω–≥–æ–≤–∞—Ç—å –≤–∞—à —Å–µ—Ä–≤–∏—Å –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç, –Ω–µ –¥–∞–≤–∞—è –µ–º—É –∑–∞—Å–Ω—É—Ç—å!

---

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
   ```bash
   cp .env.example .env
   ```

2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm run dev
   ```

4. API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3001`

---

## üì° API Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/health` | Health check –¥–ª—è Uptime Robot |
| POST | `/api/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| POST | `/api/auth/login` | –í—Ö–æ–¥ |
| GET | `/api/auth/me` | –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |
| GET | `/api/scenarios` | –°–ø–∏—Å–æ–∫ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ |
| POST | `/api/ai/generate-scenario` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è AI —Å—Ü–µ–Ω–∞—Ä–∏—è |
| GET | `/api/ai/topics` | –¢–µ–º—ã –¥–ª—è AI —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ |

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–µ–π—Å—Ç–≤—É—é—Ç 7 –¥–Ω–µ–π
- –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è bcrypt
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞
